apiVersion: v1
items:
- apiVersion: kubevirt.io/v1alpha3
  kind: VirtualMachine
  metadata:
    creationTimestamp: null
    labels:
      kubevirt-vm: vm-pvc-cloud-servacc
    name: vm-pvc-cloud-servacc
  spec:
    running: false
    template:
      metadata:
        creationTimestamp: null
        labels:
          kubevirt-vm: vm-pvc-cloud-servacc
      spec:
        domain:
          cpu:
            cores: 1
            model: Nehalem
          devices:
            disks:
            - disk:
                bus: virtio
              name: cloudinitdisk
            - disk:
                bus: virtio
              name: disk0
            - disk: {}
              name: default-disk
              serial: D23YZ9W6WA5DJ999
          machine:
            type: ""
          resources:
            requests:
              memory: 2Gi
        terminationGracePeriodSeconds: 0
        volumes:
        - cloudInitNoCloud:
            userData: |-
              #cloud-config
              password: fedora
              chpasswd: { expire: False }
              bootcmd:
              - "mkdir /mnt/servacc"
              - "mount /dev/$(lsblk --nodeps -no name,serial | grep D23YZ9W6WA5DJ999 | cut -f1 -d' ') /mnt/servacc"
          name: cloudinitdisk
        - name: disk0
          persistentVolumeClaim:
            claimName: vm-pvc-cl-servacc
        - serviceAccount:
            serviceAccountName: default
          name: default-disk
  status: {}
- apiVersion: v1
  kind: PersistentVolumeClaim
  metadata:
    name: vm-pvc-cl-servacc
    labels:
      app: containerized-data-importer
    annotations:
      cdi.kubevirt.io/storage.import.endpoint: "https://download.fedoraproject.org/pub/fedora/linux/releases/28/Cloud/x86_64/images/Fedora-Cloud-Base-28-1.1.x86_64.qcow2"
  spec:
    accessModes:
    - ReadWriteMany
    resources:
      requests:
        storage: 5Gi
  status: {}
kind: List
metadata: {}
